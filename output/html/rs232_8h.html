<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Matriz_3a: D:/Documentos/Proyectos/MPLABXPic/Matriz_1/Matriz_3a.X/rs232.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Matriz_3a
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_275089585c7fc1b5fd5d7d42c69cb1da.html">D:</a></li><li class="navelem"><a class="el" href="dir_0a15cee1de17d9175539557a1b7c24fa.html">Documentos</a></li><li class="navelem"><a class="el" href="dir_6fb0c6de73ebd1c912e1294b94a47638.html">Proyectos</a></li><li class="navelem"><a class="el" href="dir_88ab38d80be61e05cd009b1bea99bb0b.html">MPLABXPic</a></li><li class="navelem"><a class="el" href="dir_e58b7112985ee6bc0673a20bbbb01f03.html">Matriz_1</a></li><li class="navelem"><a class="el" href="dir_13df509c2e2b9f0301b062db03c497d7.html">Matriz_3a.X</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rs232.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;xc.h&gt;</code><br />
</div>
<p><a href="rs232_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5fe65b8effa0a689de95bfd3f9378478" id="r_a5fe65b8effa0a689de95bfd3f9378478"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fe65b8effa0a689de95bfd3f9378478">init_rs232</a> (void)</td></tr>
<tr class="memdesc:a5fe65b8effa0a689de95bfd3f9378478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación RS-232 del PIC16F628A.  <br /></td></tr>
<tr class="separator:a5fe65b8effa0a689de95bfd3f9378478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7e5368eb7b859260127a82cb20e868" id="r_adc7e5368eb7b859260127a82cb20e868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc7e5368eb7b859260127a82cb20e868">enviaRS232</a> (unsigned char dat)</td></tr>
<tr class="memdesc:adc7e5368eb7b859260127a82cb20e868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envía un byte de datos a través del puerto serial RS-232.  <br /></td></tr>
<tr class="separator:adc7e5368eb7b859260127a82cb20e868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68eb090a2d18831f34fda63b5a959010" id="r_a68eb090a2d18831f34fda63b5a959010"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68eb090a2d18831f34fda63b5a959010">printCad</a> (const char *cad)</td></tr>
<tr class="memdesc:a68eb090a2d18831f34fda63b5a959010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envía una cadena de caracteres a través del puerto serial RS-232.  <br /></td></tr>
<tr class="separator:a68eb090a2d18831f34fda63b5a959010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf232c8781ffb75e6b5cef680e1b04b" id="r_aedf232c8781ffb75e6b5cef680e1b04b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedf232c8781ffb75e6b5cef680e1b04b">enviaHexByte</a> (unsigned char byte)</td></tr>
<tr class="memdesc:aedf232c8781ffb75e6b5cef680e1b04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envía un byte como dos caracteres hexadecimales a través del puerto serial RS-232.  <br /></td></tr>
<tr class="separator:aedf232c8781ffb75e6b5cef680e1b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aedf232c8781ffb75e6b5cef680e1b04b" name="aedf232c8781ffb75e6b5cef680e1b04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf232c8781ffb75e6b5cef680e1b04b">&#9670;&#160;</a></span>enviaHexByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enviaHexByte </td>
          <td>(</td>
          <td class="paramtype">unsigned char</td>          <td class="paramname"><span class="paramname"><em>byte</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envía un byte como dos caracteres hexadecimales a través del puerto serial RS-232. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">byte</td><td>Byte que se va a enviar en formato hexadecimal.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>El módulo USART debe haber sido inicializado previamente con la función <code><a class="el" href="#a5fe65b8effa0a689de95bfd3f9378478" title="Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación R...">init_rs232()</a></code>.</dd></dl>
<p>Esta función convierte un byte en su representación hexadecimal de dos caracteres y los envía a través del puerto serial RS-232. El proceso es el siguiente:</p><ol type="1">
<li>Se extrae el nibble alto (4 bits más significativos) del byte usando un desplazamiento a la derecha y una máscara AND.</li>
<li>Se verifica si el nibble es menor que 10. a. Si es menor que 10, se convierte a su representación ASCII sumándole el código ASCII del carácter '0'. b. Si es mayor o igual a 10, se convierte a su representación ASCII sumándole el código ASCII del carácter 'A' y restándole 10.</li>
<li>Se envía el carácter resultante a través de la función <code><a class="el" href="#adc7e5368eb7b859260127a82cb20e868" title="Envía un byte de datos a través del puerto serial RS-232.">enviaRS232()</a></code>.</li>
<li>Se repiten los pasos 1-3 para el nibble bajo (4 bits menos significativos) del byte.</li>
</ol>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> myByte = 0xAF;</div>
<div class="line"><a class="code hl_function" href="rs232_8c.html#aedf232c8781ffb75e6b5cef680e1b04b">enviaHexByte</a>(myByte); <span class="comment">// Envía los caracteres &#39;A&#39; y &#39;F&#39; a través del puerto serial.</span></div>
<div class="ttc" id="ars232_8c_html_aedf232c8781ffb75e6b5cef680e1b04b"><div class="ttname"><a href="rs232_8c.html#aedf232c8781ffb75e6b5cef680e1b04b">enviaHexByte</a></div><div class="ttdeci">void enviaHexByte(unsigned char byte)</div><div class="ttdoc">Envía un byte como dos caracteres hexadecimales a través del puerto serial RS-232.</div><div class="ttdef"><b>Definition</b> <a href="rs232_8c_source.html#l00029">rs232.c:29</a></div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Esta función depende de la función <code><a class="el" href="#adc7e5368eb7b859260127a82cb20e868" title="Envía un byte de datos a través del puerto serial RS-232.">enviaRS232()</a></code>, que tiene un comportamiento bloqueante. Por lo tanto, <code><a class="el" href="#aedf232c8781ffb75e6b5cef680e1b04b" title="Envía un byte como dos caracteres hexadecimales a través del puerto serial RS-232.">enviaHexByte()</a></code> también bloqueará la ejecución del programa hasta que se hayan enviado los dos caracteres.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Esta función utiliza caracteres ASCII '0'-'9' y 'A'-'F' para representar los valores hexadecimales. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rs232_8c_source.html#l00029">29</a> of file <a class="el" href="rs232_8c_source.html">rs232.c</a>.</p>

</div>
</div>
<a id="adc7e5368eb7b859260127a82cb20e868" name="adc7e5368eb7b859260127a82cb20e868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7e5368eb7b859260127a82cb20e868">&#9670;&#160;</a></span>enviaRS232()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enviaRS232 </td>
          <td>(</td>
          <td class="paramtype">unsigned char</td>          <td class="paramname"><span class="paramname"><em>dat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envía un byte de datos a través del puerto serial RS-232. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dat</td><td>Byte de datos que se va a enviar.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>El módulo USART debe haber sido inicializado previamente con la función <code><a class="el" href="#a5fe65b8effa0a689de95bfd3f9378478" title="Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación R...">init_rs232()</a></code>.</dd></dl>
<p>Esta función envía un byte de datos a través del puerto serial RS-232. Utiliza el registro <code>TXREG</code> para transmitir los datos y el bit <code>TRMT</code> (Transmit Shift Register Empty) del registro <code>TXSTA</code> para verificar si el buffer de transmisión está vacío antes de enviar un nuevo byte. El proceso es el siguiente:</p><ol type="1">
<li>Se entra en un bucle <code>while</code> que espera a que el bit <code>TRMT</code> esté a 1. Esto indica que el buffer de transmisión está vacío y listo para recibir un nuevo dato.</li>
<li>Una vez que el buffer está vacío, se escribe el byte de datos <code>dat</code> en el registro <code>TXREG</code>. Esto inicia la transmisión del dato.</li>
</ol>
<div class="fragment"><div class="line"><a class="code hl_function" href="rs232_8c.html#adc7e5368eb7b859260127a82cb20e868">enviaRS232</a>(<span class="charliteral">&#39;A&#39;</span>); <span class="comment">// Envía el carácter &#39;A&#39;.</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> myByte = 0x42;</div>
<div class="line"><a class="code hl_function" href="rs232_8c.html#adc7e5368eb7b859260127a82cb20e868">enviaRS232</a>(myByte); <span class="comment">// Envía el byte 0x42.</span></div>
<div class="ttc" id="ars232_8c_html_adc7e5368eb7b859260127a82cb20e868"><div class="ttname"><a href="rs232_8c.html#adc7e5368eb7b859260127a82cb20e868">enviaRS232</a></div><div class="ttdeci">void enviaRS232(unsigned char dat)</div><div class="ttdoc">Envía un byte de datos a través del puerto serial RS-232.</div><div class="ttdef"><b>Definition</b> <a href="rs232_8c_source.html#l00014">rs232.c:14</a></div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Esta función bloquea la ejecución del programa hasta que el buffer de transmisión esté vacío. Si se necesita un manejo no bloqueante, se deben utilizar interrupciones o un enfoque diferente.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Es importante asegurarse de que el dispositivo receptor esté configurado con la misma velocidad de baudios y otros parámetros de comunicación (bits de datos, paridad, bits de stop) que el transmisor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rs232_8c_source.html#l00014">14</a> of file <a class="el" href="rs232_8c_source.html">rs232.c</a>.</p>

</div>
</div>
<a id="a5fe65b8effa0a689de95bfd3f9378478" name="a5fe65b8effa0a689de95bfd3f9378478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe65b8effa0a689de95bfd3f9378478">&#9670;&#160;</a></span>init_rs232()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_rs232 </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación RS-232 del PIC16F628A. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Ninguna.</dd></dl>
<p>Esta función configura el módulo USART del microcontrolador para la comunicación asíncrona RS-232 a una velocidad de 9600 bps. Realiza las siguientes configuraciones:</p><ol type="1">
<li>Configura el registro <code>SPBRG</code> para la velocidad de baudios de 9600 bps.</li>
<li>Configura el registro <code>TXSTA</code> para habilitar la transmisión asíncrona.</li>
<li>Configura el registro <code>RCSTA</code> para habilitar la recepción asíncrona.</li>
<li>Configura el pin RB1 como entrada (RX) y el pin RB2 como salida (TX).</li>
</ol>
<div class="fragment"><div class="line"><a class="code hl_function" href="rs232_8c.html#a5fe65b8effa0a689de95bfd3f9378478">init_rs232</a>(); <span class="comment">// Inicializa la comunicación RS-232 a 9600 bps.</span></div>
<div class="ttc" id="ars232_8c_html_a5fe65b8effa0a689de95bfd3f9378478"><div class="ttname"><a href="rs232_8c.html#a5fe65b8effa0a689de95bfd3f9378478">init_rs232</a></div><div class="ttdeci">void init_rs232(void)</div><div class="ttdoc">Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación R...</div><div class="ttdef"><b>Definition</b> <a href="rs232_8c_source.html#l00003">rs232.c:3</a></div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>El valor de <code>SPBRG</code> (0x19) está calculado para una frecuencia de oscilador específica. Si la frecuencia del oscilador es diferente, este valor debe recalcularse. Consultar la hoja de datos del microcontrolador para obtener la fórmula de cálculo y los valores correspondientes.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Esta configuración asume un modo de 8 bits de datos, sin paridad y 1 bit de stop. Para configuraciones diferentes (por ejemplo, con paridad), se deben modificar los registros <code>TXSTA</code> y <code>RCSTA</code> según la hoja de datos del microcontrolador. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rs232_8c_source.html#l00003">3</a> of file <a class="el" href="rs232_8c_source.html">rs232.c</a>.</p>

</div>
</div>
<a id="a68eb090a2d18831f34fda63b5a959010" name="a68eb090a2d18831f34fda63b5a959010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68eb090a2d18831f34fda63b5a959010">&#9670;&#160;</a></span>printCad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printCad </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cad</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envía una cadena de caracteres a través del puerto serial RS-232. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cad</td><td>Puntero constante a la cadena de caracteres que se va a enviar.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>El módulo USART debe haber sido inicializado previamente con la función <code><a class="el" href="#a5fe65b8effa0a689de95bfd3f9378478" title="Inicializa el módulo USART (Universal Synchronous Asynchronous Receiver Transmitter) para la comunicación R...">init_rs232()</a></code>.</dd></dl>
<p>Esta función envía una cadena de caracteres terminada en nulo a través del puerto serial RS-232. Itera sobre la cadena carácter por carácter, utilizando la función <code><a class="el" href="#adc7e5368eb7b859260127a82cb20e868" title="Envía un byte de datos a través del puerto serial RS-232.">enviaRS232()</a></code> para enviar cada carácter individualmente. El bucle continúa hasta que se encuentra el carácter nulo ('\0'), que marca el final de la cadena.</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="rs232_8c.html#a68eb090a2d18831f34fda63b5a959010">printCad</a>(<span class="stringliteral">&quot;Hola Mundo!&quot;</span>); <span class="comment">// Envía la cadena &quot;Hola Mundo!&quot;.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> myString[] = <span class="stringliteral">&quot;Otro ejemplo&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="rs232_8c.html#a68eb090a2d18831f34fda63b5a959010">printCad</a>(myString); <span class="comment">// Envía la cadena &quot;Otro ejemplo&quot;.</span></div>
<div class="ttc" id="ars232_8c_html_a68eb090a2d18831f34fda63b5a959010"><div class="ttname"><a href="rs232_8c.html#a68eb090a2d18831f34fda63b5a959010">printCad</a></div><div class="ttdeci">void printCad(const char *cad)</div><div class="ttdoc">Envía una cadena de caracteres a través del puerto serial RS-232.</div><div class="ttdef"><b>Definition</b> <a href="rs232_8c_source.html#l00020">rs232.c:20</a></div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Esta función depende de la función <code><a class="el" href="#adc7e5368eb7b859260127a82cb20e868" title="Envía un byte de datos a través del puerto serial RS-232.">enviaRS232()</a></code>, que tiene un comportamiento bloqueante. Por lo tanto, <code><a class="el" href="#a68eb090a2d18831f34fda63b5a959010" title="Envía una cadena de caracteres a través del puerto serial RS-232.">printCad()</a></code> también bloqueará la ejecución del programa hasta que se haya enviado toda la cadena.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Es importante asegurarse de que la cadena <code>cad</code> esté correctamente terminada en nulo. De lo contrario, la función podría intentar leer más allá del final de la cadena, lo que podría provocar un comportamiento indefinido. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rs232_8c_source.html#l00020">20</a> of file <a class="el" href="rs232_8c_source.html">rs232.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
